# Repository Guidelines

## Project Structure & Module Organization
- `main.py` contains the full desktop app: UI pages, SQLite access, and startup (`main()`).
- `requirements.txt` lists runtime dependencies (`PyQt5`, `PyQt-Fluent-Widgets`).
- `logo.png` is the window/app icon asset.
- `diary.db` is the local SQLite database generated/used at runtime.
- `attachments/` (created at runtime) stores copied user files linked to entries.
- `__pycache__/` is generated bytecode and should not be edited.

## Build, Test, and Development Commands
- `python -m venv .venv` then `.\.venv\Scripts\Activate.ps1` - create and activate a virtual environment.
- `pip install -r requirements.txt` - install GUI dependencies.
- `python main.py` - run the diary application locally.
- `python -m py_compile main.py` - quick syntax check before opening a PR.

## Coding Style & Naming Conventions
- Follow PEP 8 with 4-space indentation and clear type hints (as used in `main.py`).
- Use `snake_case` for functions/variables (`save_current_entry`), `PascalCase` for classes (`DiaryDatabase`), and `UPPER_SNAKE_CASE` for constants (`DB_NAME`).
- Keep UI styling constants centralized near the top of the file.
- Prefer small, single-purpose methods for widget actions and DB operations.

## Testing Guidelines
- There is no automated test suite yet; use manual smoke testing for every change.
- Minimum checks: create/edit/delete an entry, attach/delete a file, switch theme, and restart to verify persistence.
- For new non-UI logic, add `pytest` tests under `tests/` (for example, database helper behavior).

## Commit & Pull Request Guidelines
- No Git history is available in this workspace, so adopt Conventional Commit style:
  - `feat: add memory preview truncation`
  - `fix: handle missing attachment file`
- Keep commits focused and scoped to one concern.
- PRs should include: purpose, user-visible changes, manual test steps/results, and screenshots/GIFs for UI updates.

## Security & Data Handling Tips
- Treat `diary.db` and `attachments/` as local user data; avoid committing personal content.
- Prefer relative paths and `Path` APIs when adding file-system logic.
